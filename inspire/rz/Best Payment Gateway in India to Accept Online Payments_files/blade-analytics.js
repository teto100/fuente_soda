"use strict";(()=>{var U=Object.defineProperty,Y=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var L=(e,o,s)=>o in e?U(e,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[o]=s,p=(e,o)=>{for(var s in o||={})Z.call(o,s)&&L(e,s,o[s]);if(I)for(var s of I(o))Q.call(o,s)&&L(e,s,o[s]);return e},h=(e,o)=>Y(e,$(o));var k=(e,o)=>()=>(e&&(o=e(e=0)),o);var X=(e,o)=>()=>(o||e((o={exports:{}}).exports,o),o.exports);var D=(e,o,s)=>new Promise((a,t)=>{var i=l=>{try{r(s.next(l))}catch(u){t(u)}},n=l=>{try{r(s.throw(l))}catch(u){t(u)}},r=l=>l.done?a(l.value):Promise.resolve(l.value).then(i,n);r((s=s.apply(e,o)).next())});var E,P=k(()=>{E="2.9.0"});function oe(e){let o=e;for(;o&&o!==document.body;){let s=window.getComputedStyle(o).backgroundColor;if(s&&s!=="rgba(0, 0, 0, 0)"&&s!=="transparent")return s;o=o.parentElement}return window.getComputedStyle(document.body).backgroundColor}function V(e){return getComputedStyle(e).cursor==="pointer"}function se(e){try{let o=e.parentElement;for(;o;){if(O.includes(o.tagName.toLowerCase())&&V(o))return!0;o=o.parentElement}return!1}catch(o){return console.warn("[a11yScript]: Error checking if element is inside another pointer element",o),!1}}function q(){let e={focus:{violations:[],passes:[],violationWeight:5},imagesWithAlt:{violations:[],passes:[],violationWeight:1.5},buttonsWithLabels:{violations:[],passes:[],violationWeight:3},elementsWithRole:{violations:[],passes:[],violationWeight:1.5},html:{violations:[],passes:[],violationWeight:1},skipLinksWithNavigationRole:{violations:[],passes:[],violationWeight:1},ariaInputsWithNames:{violations:[],passes:[],violationWeight:1},elementsWithTabindexZero:{violations:[],passes:[],violationWeight:2},highContrastElements:{violations:[],passes:[],violationWeight:1},listItemsInProperParents:{violations:[],passes:[],violationWeight:2},formElementsWithLabels:{violations:[],passes:[],violationWeight:3},correctHeadingOrder:{violations:[],passes:[],violationWeight:1.5}};try{let o=document.querySelectorAll(A.join(","));document.querySelectorAll(O.join(",")).forEach(t=>{if(!A.some(n=>t.closest(n))&&!se(t)&&V(t)){let n=`${t.tagName.toLowerCase()} cannot be interactive (found cursor: pointer)`;c(t,n,x),e.focus.violations.push({element:t,issue:n})}}),o.forEach(t=>{if(t.tagName.toLowerCase()==="a"&&!t.hasAttribute("href")){let i="Link without href";c(t,i,x),e.focus.violations.push({element:t,issue:i})}else e.focus.passes.push({element:t})}),document.querySelectorAll("img").forEach(t=>{if(t.hasAttribute("alt"))e.imagesWithAlt.passes.push({element:t});else{let i="Image without alt";c(t,i),e.imagesWithAlt.violations.push({element:t,issue:i})}}),document.querySelectorAll('button, a, [role="menuitem"]').forEach(t=>{var n;if(!t.querySelector("img[alt]")&&!t.getAttribute("aria-label")&&!t.getAttribute("aria-labelledby")&&!t.getAttribute("title")&&!((n=t.textContent)!=null?n:"").trim()){let r="Button/icon without accessible name";c(t,r),e.buttonsWithLabels.violations.push({element:t,issue:r})}else e.buttonsWithLabels.passes.push({element:t})}),document.querySelectorAll("[tabindex]").forEach(t=>{if(!t.hasAttribute("role")&&!A.includes(t.tagName.toLowerCase())){let n="Has tabIndex but no role";c(t,n),e.elementsWithRole.violations.push({element:t,issue:n})}else e.elementsWithRole.passes.push({element:t});let i=t.getAttribute("tabindex");if(i&&parseInt(i,10)>0){let n="Element with [tabindex] > 0";c(t,n),e.elementsWithTabindexZero.violations.push({element:t,issue:n})}else e.elementsWithTabindexZero.passes.push({element:t})}),document.querySelectorAll('[role="textbox"], [role="searchbox"], [role="combobox"]').forEach(t=>{if(!t.getAttribute("aria-label")&&!t.getAttribute("aria-labelledby")){let i="ARIA input field without accessible name";c(t,i),e.ariaInputsWithNames.violations.push({element:t,issue:i})}else e.ariaInputsWithNames.passes.push({element:t})});let s=document.documentElement;if(s.hasAttribute("lang"))e.html.passes.push({element:s});else{let t="<html> element missing [lang] attribute";c(s,t),e.html.violations.push({element:s,issue:t})}document.querySelectorAll("a, button").forEach(t=>{var i;if(((i=t.textContent)!=null?i:"").includes("Skip")&&!t.closest('[role="navigation"], nav')){let n="Skip link/button without navigation role";c(t,n),e.skipLinksWithNavigationRole.violations.push({element:t,issue:n})}}),document.querySelectorAll("p, span").forEach(t=>{if(!!window.tinycolor)try{let i=oe(t),n=getComputedStyle(t).color;if(tinycolor.isReadable(n,i,{level:"AA",size:"large"}))e.highContrastElements.passes.push({element:t});else{let l="Low contrast ratio";c(t,l),t.dataset.textColor=n,t.dataset.bgColor=i,e.highContrastElements.violations.push({element:t,issue:l})}}catch(i){console.log("[a11yScript]: Error checking contrast ratio. Skipping...",i)}}),document.querySelectorAll("li").forEach(t=>{if(t.closest("ul, ol, menu"))e.listItemsInProperParents.passes.push({element:t});else{let i="List item not in <ul>, <ol>, or <menu>";c(t,i),e.listItemsInProperParents.violations.push({element:t,issue:i})}}),document.querySelectorAll("input, select, textarea").forEach(t=>{let i=t.getAttribute("id");if(document.querySelector(`label[for="${i}"]`)||t.hasAttribute("aria-label")||t.hasAttribute("aria-labelledby")||t.closest("label"))e.formElementsWithLabels.passes.push({element:t});else{let r="Form element without associated label";c(t,r),e.formElementsWithLabels.violations.push({element:t,issue:r})}});let a=0;document.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(t=>{let i=parseInt(t.tagName.substring(1),10);if(i>a+1){let n="Skipped heading level";c(t,n),e.correctHeadingOrder.violations.push({element:t,issue:n})}else e.correctHeadingOrder.passes.push({element:t});a=i})}catch(o){console.warn("[a11yScript]: Error checking accessibility violations",o)}return e}var te,x,A,O,c,H,R,M,B=k(()=>{"use strict";te="1px solid orange",x="2px solid red",A=["button","a","input","label","textarea","select","option"],O=["div","span","section","article","p","main"];c=(e,o,s=te,a=!1)=>{a&&e&&(e.style.outline=s,e.dataset.a11yViolation="true",e.dataset.a11yViolationIssue=o)};H=e=>Object.fromEntries(Object.keys(e).map(o=>{let s=e[o];return s.passes.length===0&&s.violations.length===0?[o,{passes:s.passes,violations:s.violations,score:NaN,violationWeight:s.violationWeight}]:[o,{passes:s.passes,violations:s.violations,score:100-s.violations.length*s.violationWeight*100/(s.passes.length+s.violations.length*s.violationWeight),violationWeight:s.violationWeight}]})),R=e=>{let o=Object.keys(e).filter(a=>!isNaN(e[a].score)&&a!=="focus");return o.length===0?100:o.reduce((a,t)=>a+e[t].score,0)/o.length},M=()=>new Promise((e,o)=>{let s=document.createElement("script");s.src="https://cdn.jsdelivr.net/npm/tinycolor2@1.6.0/dist/tinycolor-min.js",document.head.appendChild(s),s.onload=()=>{e()},s.onerror=()=>{o(new Error("[a11yScript]: Failed to load tinycolor2"))}})});var ue=X(F=>{P();B();var G="Accessibility Coverage",j=e=>{if(e.parentElement&&j(e.parentElement))return!0;if(!(e instanceof HTMLElement))return!1;if(e.hidden)return!0;let o=getComputedStyle(e);return o.display==="none"||o.visibility==="hidden"||o.opacity==="0"},ne=e=>!e||!e.childNodes.length||!e.childNodes.length,ie=e=>["img","video","audio","source","picture"].includes(e.tagName.toLowerCase()),ae=()=>{let e=document.querySelectorAll("body *"),o=[],s=[];e.forEach(n=>{if(j(n)||ne(n)||ie(n))return;let r=n.closest("svg");if(n.tagName.toLocaleLowerCase()==="svg"&&n.hasAttribute("data-blade-component")){o.push(n),s.push(n);return}(r==null?void 0:r.getAttribute("data-blade-component"))!=="icon"&&(r&&!n.hasAttribute("data-blade-component")||(s.push(n),n.hasAttribute("data-blade-component")&&o.push(n)))});let a=s.length,t=o.length,i=Number((t/a*100).toFixed(2));return a===0&&(i=0),{bladeCoverage:i,totalNodes:a,bladeNodes:t}};function re(e,o){return Math.floor((e.getTime()-o.getTime())/864e5)}var g="blade-analytics-data";function le(e){try{return localStorage.getItem(e)}catch(o){return null}}function C(e){try{localStorage.removeItem(e)}catch(o){}}function _(e){try{localStorage.setItem(g,e)}catch(o){C(g)}}var y=(e,o)=>D(F,null,function*(){var t;let s="6lpfX5loXnTbBFVo2FbJHpjins0hGaC4",a=(t=o.eventName)!=null?t:"Component Coverage";if(o.debug&&console.log(a,e),!o.skipSendingData)try{yield fetch("https://api.segment.io/v1/track",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({properties:e,event:a,writeKey:s,userId:"fecore@test.com"})})}catch(i){console.log(i)}}),S=({businessUnit:e,skipSendingData:o=!1,debug:s=!1})=>{let{bladeNodes:a,totalNodes:t,bladeCoverage:i}=ae(),n=q(),r=H(n),l=R(r),u=r.focus.score,m=0;isNaN(u)?(m=l,u=100):m=(l+u)/2;let w=window.location.pathname,K=window.location.host,T=window.innerWidth,z=window.innerHeight,J=T>768?"desktop":"mobile",b=`${window.location.origin}${w}`,f=new Date,W=le(g),d=W?JSON.parse(W):{};s&&console.log("PAGE ACCESSIBILITY VIOLATIONS",{a11yChecks:n}),d.packageVersion||(d.packageVersion=E,C(g)),d.packageVersion!==E&&C(g);let N=d[b],v={projectDomain:K,path:w,deviceWidth:T,deviceHeight:z,deviceType:J,fullPageUrl:b,businessUnit:e};if(!N){d[b]=f.getTime(),_(JSON.stringify(d)),y(h(p({},v),{totalComponents:t,bladeComponents:a,nonBladeComponents:t-a,bladeCoverage:i}),{debug:s,skipSendingData:o}),y(h(p({},v),{a11yScore:m,a11yFocusScore:u,a11yStaticScore:l}),{debug:s,skipSendingData:o,eventName:G});return}re(f,new Date(N))>=14&&(d[b]=f.getTime(),_(JSON.stringify(d)),y(h(p({},v),{totalComponents:t,bladeComponents:a,nonBladeComponents:t-a,bladeCoverage:i}),{debug:s,skipSendingData:o}),y(h(p({},v),{a11yScore:m,a11yFocusScore:u,a11yStaticScore:l}),{debug:s,skipSendingData:o,eventName:G}))};function ce({businessUnit:e,skipSendingData:o=!1,debug:s=!1,_skipLoadTinyColorScript:a=!1}){try{if(window.setTimeout(()=>{try{a?S({businessUnit:e,skipSendingData:o,debug:s}):M().finally(()=>{S({businessUnit:e,skipSendingData:o,debug:s})}).catch(n=>{console.log(n)})}catch(n){console.log(n)}},7e3),"navigation"in window){let n=function(r){return r.downloadRequest||r.formData};var t=n;navigation.addEventListener("navigate",r=>{n(r)||window.setTimeout(()=>{try{S({businessUnit:e,skipSendingData:o,debug:s})}catch(l){console.log(l)}},7e3)})}}catch(i){console.log(i)}}window.initBladeCoverageAnalytics=ce});ue();})();
